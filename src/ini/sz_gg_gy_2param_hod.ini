[runtime]
; sampler = emcee
sampler = multinest
; sampler = test
root = ${COSMOSIS_SRC_DIR}

[DEFAULT]
actxdesy3_repo_dir = ${COSMOSIS_SRC_DIR}/ACTxDESY3
twopt_file = %(actxdesy3_repo_dir)s/src/data/cls_DES_redmagic_v6.22.2_ACT_y_20191015_nside4096_linear.pk
stat_analyze = gg_gy
twopt_file_processed_file = %(actxdesy3_repo_dir)s/src/data/data_cov_ell_%(stat_analyze)s.pk

params_files_dir = %(actxdesy3_repo_dir)s/src/params_files/
params_file = params_des_%(stat_analyze)s.ini
params_def_file = params_default.ini
bins_all = [1, 2, 3, 4, 5]
bins_to_fit = [1, 2, 3, 4, 5]
lcomp_min = [0,0,0,0,0,0,0,0,0,0]
lcomp_max = [10000,10000,10000,10000,10000,10000,10000,10000,10000,10000]
sec_save_name = save_theory

[emcee]
burn=0.3
walkers = 256
samples = 100000
nsteps = 1

[output]
filename= %(actxdesy3_repo_dir)s/src/chains/chain_sz_actxdesy3_%(stat_analyze)s_2param_hod_nobeam.txt
format=text
lock=F

[multinest]
max_iterations=500000
multinest_outfile_root=mn/sz_%(stat_analyze)s_2param_hod_nobeam
resume=T
live_points=180
efficiency=0.7
tolerance=0.1

[pipeline]
quiet=T
timing=F
debug=F

modules = load_nz get_theory like_sz
values = %(actxdesy3_repo_dir)s/src/values/values_sz_%(stat_analyze)s.ini
likelihoods = SZ

[load_nz]
file = ${COSMOSIS_SRC_DIR}/cosmosis-standard-library/number_density/load_nz_fits/load_nz_fits.py
nz_file = %(actxdesy3_repo_dir)s/src/data/nz_y3_redmagic_v6.4.22_v2_gold_2.2.1_combined_max_bin_edges.fits
data_sets = lens
prefix_section = T
prefix_extension = T

[like_sz]
file = %(actxdesy3_repo_dir)s/src/cosmosis_code/like_sz.py

[get_theory]
file = %(actxdesy3_repo_dir)s/src/cosmosis_code/get_theory_interface.py
sec_name = get_theory
save_cov_fname = %(actxdesy3_repo_dir)s/src/data/data_cov_ell_%(stat_analyze)s.pk


[plot_Cls]
file = %(actxdesy3_repo_dir)s/src/cosmosis_code/plot_save_Cls.py


